<%=titulo_pagina(link_icone("Requisições",'thumbs-up'),"Listagem de Requisições de Serviço de Transporte")%>

<table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered datatables">
    <thead>
        <tr>
            <th>Número</th>
            <th>Motivo</th>
            <th>Data da Requisição</th>
            <th>Status</th>
            <th>Ações</th>
        </tr>
    </thead>
    <tbody>
        <%@requisicoes.each do |req|%>
        <tr class="<%=even_odd(req.id)%> gradeX">
        <td  class="sorting_1"><%=req.numero%></td>
            <td><%=req.motivo.nome  %></td>
            <td><%=req.created_at.to_s_br%></td>
            <td class="center"> <%=req.state.upcase%></td>
            <td>
                <%= link_to link_icone('detalhes'), requisicao_path(req),class: "btn btn-success btn-xs",data: { no_turbolink: true }  %>
                <%= link_to link_icone('editar'), edit_requisicao_path(req),class: "btn btn-warning btn-xs",data: { no_turbolink: true }  %>
                <%=link_to "Cancelar","#",:class=>"btn btn-sky btn-xs" unless req.confirmada? or req.cancelada?%>
                <%= link_to link_icone('apagar'), req, method: :delete, data: { confirm: 'Você tem certeza que deseja apagar?' },:class=>"btn btn-danger btn-xs" %>
            </td>
        </tr>
        <%end%>
    </tbody>
</table>



<%= link_to link_icone('Requisição de Transporte - Dia Seguinte','thumbs-up'), new_requisicao_path, :class=>"btn btn-large btn-green",data: { no_turbolink: true }  %>


<%= link_to link_icone('Requisição de Transporte - Imediata','bolt'), requisicao_imediata_requisicoes_path, :class=>"btn btn-large btn-midnightblue",data: { no_turbolink: true }  %>

<%= link_to link_icone('Agendamento de Viagem','calendar'), agendar_requisicoes_path, :class=>"btn btn-large btn-midnightblue",data: { no_turbolink: true }  %>

<%content_for :scripts do%>
<script type="text/javascript">

	$(document).ready(function() {
    $('.datatables').dataTable({
        "sDom": "<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>",
        "sPaginationType": "bootstrap",
        "oLanguage": {
            "sLengthMenu": "_MENU_ registros por página",
            "sSearch": "",
            "sInfo": "Exibindo página _PAGE_ de _PAGES_"
        }
    });
    $('.dataTables_filter input').addClass('form-control').attr('placeholder','Buscar...');
    $('.dataTables_length select').addClass('form-control');
});

</script>
<%end%>

    