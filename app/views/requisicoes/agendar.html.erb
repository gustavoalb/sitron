<%= simple_form_for @requisicao,html: {class: 'well form-horizontal'},url: agendar_requisicao_requisicoes_url do |f| %>
<%= f.error_notification %>
    <%= f.input :motivo,:label=>"Motivo da Requisição" %>
    <%= f.input :requisitante_id,input_html: {value: current_user.pessoa.id},as: :hidden%>
    <%=f.input :rota_ids,:collection=>@rotas.collect{|r|[r.destino,r.id]},input_html: {multiple:""},:hint=>"Marque Várias Rotas segurando a tecla CTRL ou SHIFT",label: "Rota a ser seguida"%>
    <%=f.input :inicio,:input_html=>{:readonly=>true},as: :string,hint: "Clique no campo para selecionar a data de Ida e Volta"%>
    <%=f.input :fim,:input_html=>{:readonly=>true},as: :string,hint: "Este campo será preenchido automaticamente"%>

    <br/><br/><br/>
    <%=botoes_form(f)%>

<% end %>


<script type="text/javascript">
$('#requisicao_inicio').daterangepicker(
    {
    locale: {applyLabel: 'Aplicar',
                cancelLabel: 'Cancel',
                fromLabel: 'De',
                toLabel: 'Até',
                weekLabel: 'W',
                customRangeLabel: 'Calendário'},
                timePicker: true, timePickerIncrement: 15, format: 'MM/DD/YYYY H:mm',timePicker12Hour: false,
      ranges: {
         'Um dia Saindo Amanhã': [moment().add('days',1), moment().add('days',2)],
         'Dois dias Saindo Amanhã': [moment().add('days',1), moment().add('days',3)]
      },
      startDate: moment().subtract('days', 29),
      endDate: moment()
    },
    function(start, end) {
        $('#requisicao_inicio').val(start.format('MM/DD/YYYY H:mm'));
        $('#requisicao_fim').val(end.format('MM/DD/YYYY H:mm'));
    }
);
</script>
